# README

Ziggie is a flexible url shortner. It:

* Generates Unique Urls
* Tracks link clicks
* Has User Authentication
* Generate Unique Urls for specific users
* Has CRUD for all urls generated

It's composed 2 models
* User
* Url

The User model is mainly managed by the 'devise' gem. It has CRUD for users and also authentication for specific urls generated.

The Url model is used to store urls, slugs (for those urls) and user_id for urls generated by specific users

Rspec is used for TDD with capybara and factory girl

How to get started (Linux)

requirements:

* 'rails', '~> 5.1.6'
* Rspec
* Postgresql
* Bundler
* ActiveJob
* Ruby -v 2.4.1

1. Clone git into a directory of your choosing using the console
```console
git clone https://github.com/michaelakh/urlshort.git
```
2. Install Dependencies

* Rmagic
* Postgresql

If you have already installed Rmagic and Postgresql then skip this step
For Rmagic

``` console
sudo apt-get install libmagickwand-dev
```

For Postgresql

``` console
sudo apt-get -y install postgresql postgresql-contrib libpq-dev
sudo -u postgres psql postgres
```
In psql

``` console 
\password postgres
```
Enter the password you want

After you're done, exit out of psql by doing the following

``` console
\q
```

Then create a user for psql to use

``` console
sudo -u postgres createuser --superuser $USER;
```

And that's it. If you have problems creating a postgresql database, try https://stackoverflow.com/questions/11919391/postgresql-error-fatal-role-username-does-not-exist

3. cd into the application directory and run
```console
bundle install
bundle update
```

4. Next, create the database in your postgresql database and migrate the database
```console
rake db:create db:migrate 
```

5. Run tests via rspec
```console
bundle exec rspec 
```

6. Start up the server and view the website

```console
rails s
```